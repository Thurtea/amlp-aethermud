rm -f cc.h
echo "/* this file automatically generated by the Makefile */" > cc.h
echo '#define COMPILER "gcc"' >> cc.h
echo '#define OPTIMIZE "-O2"' >> cc.h
echo '#define CFLAGS   "-D__USE_FIXED_PROTOTYPES__ -O2"' >> cc.h
echo '#define OBJDIR   "obj"' >> cc.h
gcc -D__USE_FIXED_PROTOTYPES__ -o obj/edit_source.o -c edit_source.c
gcc -D__USE_FIXED_PROTOTYPES__ -O2 -o obj/hash.o -c hash.c
bison -d -y  make_func.y
make_func.y:66.58-60: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
   66 | %type <number> type arg_list basic typel arg_type typel2 NUM
      |                                                          ^~~
make_func.y:68.16-17: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
   68 | %type <string> ID optional_ID optional_default
      |                ^~
rm -f make_func.tab.c
mv y.tab.c make_func.tab.c
gcc -D__USE_FIXED_PROTOTYPES__ -o obj/make_func.tab.o -c make_func.tab.c
gcc -D__USE_FIXED_PROTOTYPES__ obj/edit_source.o obj/hash.o obj/make_func.tab.o -o edit_source
if test \( ! -r configure.h \) -o \( ! -r configuration \); then \
    rm -f configuration; \
    touch configuration; \
fi
if test "Machine `uname -a` Configure version 5" = "`cat configuration`"; then \
    echo "Skipping configuration ..."; \
else \
    ./edit_source -configure; \
    echo "Machine `uname -a` Configure version 5" > configuration; \
fi
Checking for flaky Linux systems ...
Checking for include file <stdlib.h> ... exists
Checking for include file <unistd.h> ... exists
Checking for include file <time.h> ... exists
Checking for include file <sys/times.h> ... exists
Checking for include file <fcntl.h> ... exists
Checking for include file <sys/time.h> ... exists
Checking for include file <dos.h> ... does not exist
Checking for include file <usclkc.h> ... does not exist
Checking for include file <limits.h> ... exists
Checking for include file <locale.h> ... exists
Checking for include file <netinet/in.h> ... exists
Checking for include file <arpa/inet.h> ... exists
Checking for include file <sys/types.h> ... exists
Checking for include file <sys/ioctl.h> ... exists
Checking for include file <sys/socket.h> ... exists
Checking for include file <netdb.h> ... exists
Checking for include file <arpa/telnet.h> ... exists
Checking for include file <sys/sema.h> ... does not exist
Checking for include file <sys/socketvar.h> ... exists
Checking for include file <socket.h> ... does not exist
Checking for include file <resolve.h> ... does not exist
Checking for include file <sys/stat.h> ... exists
Checking for include file <dirent.h> ... exists
Checking for include file <sys/dirent.h> ... does not exist
Checking for include file <sys/filio.h> ... does not exist
Checking for include file <sys/sockio.h> ... does not exist
Checking for include file <sys/mkdev.h> ... does not exist
Checking for include file <sys/resource.h> ... exists
Checking for include file <sys/rusage.h> ... does not exist
Checking for include file <sys/wait.h> ... exists
Checking for include file <sys/crypt.h> ... does not exist
Checking for include file <crypt.h> ... exists
Checking for include file <my_malloc.h> ... does not exist
Checking for include file <mach/mach.h> ... does not exist
Checking for include file <mach.h> ... does not exist
Checking for include file <sys/sysmacros.h> ... exists
Checking for include file <dlfcn.h> ... exists
Checking for missing INADDR_NONE ... ok
Checking for random number generator ... using drand48()
Using BSD signals.
Checking if signal() returns SIG_ERR on error ... yes
Not Checking for inline ...(usage in driver code all broken anyway) const ...
Checking for strerror() ... exists
Checking for POSIX getcwd() ... exists
Checking for getrusage() ... does not exist
Checking for times() ... exists
Checking for gettimeofday() ... exists
Checking for fchmod() ... does not exist
Checking for big or little endian ... little
Checking for memmove() ... exists
Checking for library -lresolv ... exists
Checking for library -lbsd ... does not exist
Checking for library -lBSD ... does not exist
Checking for library -ly ... does not exist
Checking for library -lcrypt ... exists
Checking for library -lsocket ... does not exist
Checking for library -linet ... does not exist
Checking for library -lnsl ... does not exist
Checking for library -lnsl_s ... does not exist
Checking for library -lseq ... does not exist
Checking for library -lm ... exists

./edit_source -options -malloc -build_func_spec 'gcc -E -D__USE_FIXED_PROTOTYPES__' \
              -process grammar.y.pre
Writing build options to option_defs.c ...
Building compiler files ...
Creating 'grammar.y' from 'grammar.y.pre' ...
Using 'local_options' file ...
Using memory allocation package: sysmalloc.c

./edit_source -process packages/Makefile.pre
Creating 'packages/Makefile' from 'packages/Makefile.pre' ...

./edit_source -process packages/GNUmakefile.pre
Creating 'packages/GNUmakefile' from 'packages/GNUmakefile.pre' ...

./edit_source -build_efuns -build_applies
Building efun tables ...

touch mallocwrapper.c
touch malloc.c
touch files
gmake main_build2
gmake[1]: Entering directory '/home/thurtea/amlp-aethermud/mud-references/deadsouls/ds3.9/ds3.9/fluffos-2.23-ds03'
gmake -C packages 'CC=gcc' 'CFLAGS=-D__USE_FIXED_PROTOTYPES__ -O2' 'OBJDIR=../obj' 'RANLIB=ranlib' 'A=a' 'O=o'
gmake[2]: Entering directory '/home/thurtea/amlp-aethermud/mud-references/deadsouls/ds3.9/ds3.9/fluffos-2.23-ds03/packages'
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/dslib.o -c dslib.c
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/math.o -c math.c
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/develop.o -c develop.c
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/matrix.o -c matrix.c
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/parser.o -c parser.c
parser.c: In function ‘query_the_short’:
parser.c:1254:23: warning: comparison between pointer and integer
 1254 |     if (ob==NULL || ob==0x9 || ob==0x0) return strput(start, end, "the thing");
      |                       ^~
parser.c: In function ‘make_function’:
parser.c:1914:59: warning: comparison between pointer and integer
 1914 |                 loaded_objects[matches[match].val.number] == 0x9 ||
      |                                                           ^~
parser.c: In function ‘parallel_check_functions’:
parser.c:2031:19: warning: comparison between pointer and integer
 2031 |     if(obj && obj != 0x9){
      |                   ^~
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/contrib.o -c contrib.c
contrib.c: In function ‘f_terminal_colour’:
contrib.c:676:37: warning: passing argument 1 of ‘strcpy’ discards ‘const’ qualifier from pointer target type [-Wdiscarded-qualifiers]
  676 |                         strcpy(parts[i], tmp->u.string);
      |                                ~~~~~^~~
In file included from ../std_incl.h:66,
                 from ../std.h:26,
                 from ../lpc_incl.h:4,
                 from contrib.c:2:
/usr/include/string.h:141:39: note: expected ‘char * restrict’ but argument is of type ‘const char *’
  141 | extern char *strcpy (char *__restrict __dest, const char *__restrict __src)
      |                      ~~~~~~~~~~~~~~~~~^~~~~~
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/sockets.o -c sockets.c
gcc -I../obj -I.. -D__USE_FIXED_PROTOTYPES__ -O2 -o ../obj/mudlib_stats.o -c mudlib_stats.c
ar rcu packages.a ../obj/dslib.o ../obj/math.o ../obj/develop.o ../obj/matrix.o ../obj/parser.o ../obj/contrib.o ../obj/sockets.o ../obj/mudlib_stats.o
ranlib packages.a
gmake[2]: Leaving directory '/home/thurtea/amlp-aethermud/mud-references/deadsouls/ds3.9/ds3.9/fluffos-2.23-ds03/packages'
bison -d -y grammar.y
grammar.y:152.30-37: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  152 | %type <number> efun_override L_ASSIGN L_ORDER
      |                              ^~~~~~~~
grammar.y:152.39-45: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  152 | %type <number> efun_override L_ASSIGN L_ORDER
      |                                       ^~~~~~~
grammar.y:155.16-26: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  155 | %type <number> L_PARAMETER single_new_local_def
      |                ^~~~~~~~~~~
grammar.y:158.16-23: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  158 | %type <number> L_NUMBER 
      |                ^~~~~~~~
grammar.y:166.16-21: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  166 | %type <real>   L_REAL
      |                ^~~~~~
grammar.y:169.16-23: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  169 | %type <string> L_STRING string_con1 string_con2
      |                ^~~~~~~~
grammar.y:175.13-26: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  175 | %type <ihe> L_DEFINED_NAME
      |             ^~~~~~~~~~~~~~
grammar.y:179.31-45: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  179 | %type <number> opt_basic_type L_TYPE_MODIFIER L_BASIC_TYPE basic_type...
      |                               ^~~~~~~~~~~~~~~
grammar.y:179.47-58: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  179 | %type <number> opt_basic_type L_TYPE_MODIFIER L_BASIC_TYPE basic_type...
      |                                               ^~~~~~~~~~~~
grammar.y:184.16-34: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  184 | %type <number> L_NEW_FUNCTION_OPEN l_new_function_open
      |                ^~~~~~~~~~~~~~~~~~~
grammar.y:187.16-27: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  187 | %type <string> L_IDENTIFIER L_EFUN function_name identifier
      |                ^~~~~~~~~~~~
grammar.y:187.29-34: warning: POSIX yacc reserves %type to nonterminals [-Wyacc]
  187 | %type <string> L_IDENTIFIER L_EFUN function_name identifier
      |                             ^~~~~~
rm -f grammar.tab.*
sed "s/y.tab.c/grammar.tab.c/g" y.tab.c  > grammar.tab.c
mv y.tab.h grammar.tab.h
gcc -D__USE_FIXED_PROTOTYPES__ -O2 -o obj/grammar.tab.o -c grammar.tab.c
gcc -D__USE_FIXED_PROTOTYPES__ -O2 -o obj/lex.o -c lex.c
gcc -D__USE_FIXED_PROTOTYPES__ -O2 -o obj/main.o -c main.c
main.c:38:6: error: conflicting types for ‘init_addr_server’; have ‘void(void)’
   38 | void init_addr_server();
      |      ^~~~~~~~~~~~~~~~
In file included from main.c:9:
comm.h:202:6: note: previous declaration of ‘init_addr_server’ with type ‘void(char *, int)’
  202 | void init_addr_server (char *, int);
      |      ^~~~~~~~~~~~~~~~
main.c: In function ‘main’:
main.c:312:3: error: too many arguments to function ‘init_addr_server’; expected 0, have 2
  312 |   init_addr_server(ADDR_SERVER_IP, ADDR_SERVER_PORT);
      |   ^~~~~~~~~~~~~~~~
main.c:38:6: note: declared here
   38 | void init_addr_server();
      |      ^~~~~~~~~~~~~~~~
gmake[1]: *** [GNUmakefile:91: obj/main.o] Error 1
gmake[1]: Leaving directory '/home/thurtea/amlp-aethermud/mud-references/deadsouls/ds3.9/ds3.9/fluffos-2.23-ds03'
make: *** [GNUmakefile:84: main_build] Error 2
